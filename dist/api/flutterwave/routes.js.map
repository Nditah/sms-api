{"version":3,"sources":["../../../src/api/flutterwave/routes.js"],"names":["router","express","Router","get","checkAuth","isValidAdmin","fetchRecord","queryOnlineTnx","fetchSettlement","post","createRecord","verifyBvn","verifyOnlineTnx","patch","patchRecord"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;AAEA,IAAMA,SAASC,kBAAQC,MAAR,EAAf;;AAEA;;;;;;;;;;;;;;;AAeAF,OAAOG,GAAP,CAAW,cAAX,EAA2B,CAACC,wBAAD,EAAYC,2BAAZ,CAA3B,EAAsDC,uBAAtD;;AAEA;;;;;;;;;;;;;;;;;;AAkBAN,OAAOG,GAAP,CAAW,qBAAX,EAAkC,CAACC,wBAAD,EAAYC,2BAAZ,CAAlC,EAA6DE,0BAA7D;;AAEA;;;;;;;;;;;;;AAaAP,OAAOG,GAAP,CAAW,yBAAX,EAAsC,CAACC,wBAAD,EAAYC,2BAAZ,CAAtC,EAAiEG,2BAAjE;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCAR,OAAOS,IAAP,CAAY,cAAZ,EAA4BC,wBAA5B;;AAEA;;;;;;;;;AASAV,OAAOG,GAAP,CAAW,uBAAX,EAAoCQ,qBAApC;;AAEA;;;;;;;;;;AAUAX,OAAOG,GAAP,CAAW,6BAAX,EAA0CS,2BAA1C;;AAEA;;;;;;;;;;AAUAZ,OAAOa,KAAP,CAAa,wBAAb,EAAuC,CAACT,wBAAD,EAAYC,2BAAZ,CAAvC,EAAkES,uBAAlE;;kBAEed,M","file":"routes.js","sourcesContent":["import express from \"express\";\nimport { checkAuth, isValidAdmin } from \"../../middleware/authorization\";\nimport { fetchRecord, createRecord, patchRecord, verifyBvn, queryOnlineTnx, fetchSettlement, verifyOnlineTnx } from \"./controller\";\n\nconst router = express.Router();\n\n/**\n * @api {get} /api/flutterwave?id={recordId} Retrieve one or all records\n * @apiName RetrieveFlutterwave\n * @apiGroup Flutterwave\n  * @apiExample {curl} Example usage for retieving a single record:\n *      curl -i api/flutterwave?\n * @apiParam {Object} filter query condition (optional)\n * @apiParam {Number} skip Number of records to offset by (optional)\n * @apiParam {Number} limit Maximum Number of records to retrieve (optional)\n * @apiParam {String} sort how records would be arranged in alphabet (optional)\n * @apiParam {String} projection list of record's attributes to retrieve (optional)\n * @apiDescription Records  of account headings belonging to one classification\n * @apiSuccess {Object[]} Array of Objects of records.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get(\"/flutterwave\", [checkAuth, isValidAdmin], fetchRecord);\n\n/**\n * @api {get} /api/flutterwave/online?id={recordId} Retrieve one or all online Tnx\n * @apiName RetrieveFlutterwaveOnline\n * @apiGroup Flutterwave\n * @apiExample {curl} Example usage for retieving multiple records:\n *      curl -i https://ravesandboxapi.flutterwave.com/v2/gpx/transactions/query?\n * @apiParam {Number} id transaction ID from from the Verify transaction response (optional)\n * @apiParam {Number} offset Number of records to skip (optional)\n * @apiParam {Number} limit Maximum Number of records to retrieve (optional)\n * @apiParam {Date} from transactions Start-date to list records (optional)\n * @apiParam {Date} to transactions End-date to list records (optional)\n * @apiParam {String} currency transactions currency to query records e.g. \"NGN\"\n * @apiParam {String} status transactions status to query records e.g. \"successful\"\n * @apiDescription Records of online transactions or retrieve the timeline events\n * detail of a transaction\n * @apiSuccess {Object[]} Array of Objects of records.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get(\"/flutterwave/online\", [checkAuth, isValidAdmin], queryOnlineTnx);\n\n/**\n * @api {get} /api/flutterwave/settlement?id={recordId} Retrieve one or all records\n * @apiName RetrieveFlutterwaveSettlement\n * @apiGroup Flutterwave\n * @apiExample {curl} Example usage for retieving multiple records:\n *      curl -i http://localhost/api/flutterwave?page=1&limit=50&status=completed\n * @apiParam {Number} page to retrieve (optional)\n * @apiParam {Number} limit Maximum Number of records to retrieve (optional)\n * @apiParam {String} status Transaction status to retrieve e.g. \"completed\"\n * @apiDescription Records of Settlement accounts\n * @apiSuccess {Object[]} Array of Objects of records.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get(\"/flutterwave/settlement\", [checkAuth, isValidAdmin], fetchSettlement);\n\n/**\n * @api {post} /api/flutterwave Create flutterwave\n * @apiName CreateFlutterwave\n * @apiGroup Flutterwave\n * @apiParam {Number} flwId Flutterwave flwId // 125837,\n * @apiParam {String} txRef Flutterwave txRef // \"rave-pos-272519815315\",\n * @apiParam {String} flwRef Flutterwave flwRef // \"FLWACHMOCK-1523118279396\",\n * @apiParam {String} orderRef Flutterwave orderRef // \"URF_1523118277202_7343035\",\n * @apiParam {String} paymentPlan Flutterwave paymentPlan // null,\n * @apiParam {Date} createdAt Flutterwave createdAt // \"2018-04-07T16:24:37.000Z\",\n * @apiParam {Number} amount Flutterwave amount // 200,\n * @apiParam {Number} charged_amount Flutterwave charged_amount // 200,\n * @apiParam {String} status Flutterwave status // \"successful\",\n * @apiParam {String} IP Flutterwave IP // \"197.149.95.62\",\n * @apiParam {String} currency Flutterwave currency // \"NGN\",\n * @apiParam {Object} customer Flutterwave customer Object {\n *      {Number} id customer id // 5766,\n *      {String} phone customer phone , // \"N/A\",\n *      {String} fullName customer phone , // \"Anonymous customer\",\n *      {String} customertoken customer phone , // null,\n *      {String} email customer phone , // \"salesmode@ravepay.co\",\n *      {Date} createdAt customer phone , // \"2017-10-16T10:03:19.000Z\",\n *      {Date} updatedAt customer phone , // \"2017-10-16T10:03:19.000Z\",\n *      {Date} deletedAt customer phone , // null,\n *      {Number} AccountId customer phone , // 134,\n *      },\n * @apiParam {Object} entity Flutterwave entity Object {\n *      {String} account_number entity , // \"0690000037\",\n *      {String} first_name entity , // \"Dele Moruf\",\n *      {String} last_name entity , // \"Quadri\",\n *      {String} card6 entity , // \"539983\",\n *      {String} card_last4 entity , // \"8381\",\n *      },\n * @apiSuccess {Object} Flutterwave Flutterwave's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Flutterwave not found.\n * @apiError 401 master access only.\n */\nrouter.post(\"/flutterwave\", createRecord);\n\n/**\n * @api {get} /api/flutterwave/bvn/:bvn verify BVN\n * @apiName VerifyBvn\n * @apiGroup Flutterwave\n * @apiParam {String} bvn Bank Verification Number\n * @apiDescription This allows you verify the authenticity of a BVN\n * @apiSuccess {Object[]} Array of Objects of records.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get(\"/flutterwave/bvn/:bvn\", verifyBvn);\n\n/**\n * @api {get} /api/flutterwave/payment/{txref} verify Payment\n * @apiName VerifyPayment\n * @apiGroup Flutterwave\n * @apiParam {String} txref Transaction Reference Number\n * @apiDescription This allows you verify the authenticity of a Transaction\n * in terms of status, amount and currency\n * @apiSuccess {Object[]} Array of Objects of records.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get(\"/flutterwave/payment/:txref\", verifyOnlineTnx);\n\n/**\n * @api {patch} /api/flutterwave/{recordId} Patch flutterwave\n * @apiName PatchFlutterwave\n * @apiGroup Flutterwave\n * @apiHeader {String} Authorization Bearer token\n * @apiParam {String} recordId required record ObjectId\n * @apiSuccess (Success 204) 204 No Content.\n * @apiError 404 Flutterwave not found.\n * @apiError 401 master access only.\n */\nrouter.patch(\"/flutterwave/:recordId\", [checkAuth, isValidAdmin], patchRecord);\n\nexport default router;\n"]}